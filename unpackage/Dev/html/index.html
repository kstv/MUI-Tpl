<!doctype html>
<html>

  <head>
    <meta charset="UTF-8">
    <title></title>
    <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link href="../css/mui.min.css" rel="stylesheet" />
    <script src="../js/lib/mui.min.js"></script>
    <script src="../js/lib/sea.js"></script>
    <style>
      .mui-control-content .mui-loading {
        margin-top: 50px;
      }
      
      .mui-tab {
        z-index: 1;
        width: 100%;
        -webkit-transform: translateZ(0);
        transform: translateZ(0);
      }
    </style>
    <script>
      (function() {
        seajs.use("../js/define/index");
      })()
    </script>
  </head>

  <body>
    <div class="mui-content" id="pullrefresh">
      <div class="mui-content">
        <div id="slider" class="mui-slider">
          <div id="sliderSegmentedControl" class="mui-slider-indicator mui-segmented-control mui-segmented-control-inverted">
            <a class="mui-control-item" href="#item1mobile">
              限免
            </a>
            <a class="mui-control-item" href="#item2mobile">
              讨论
            </a>
          </div>
          <div id="sliderProgressBar" class="mui-slider-progress-bar mui-col-xs-6"></div>
          <div class="mui-slider-group">
            <div id="item1mobile" class="mui-slider-item mui-control-content mui-active">
              <div id="scroll1" class="mui-scroll-wrapper">
                <div class="mui-scroll">
                  <ul class="mui-table-view">
                    <li class="mui-table-view-cell">
                      第一个选项卡子项-1
                    </li>
                    <li class="mui-table-view-cell">
                      第一个选项卡子项-2
                    </li>
                    <li class="mui-table-view-cell">
                      第一个选项卡子项-3
                    </li>
                    <li class="mui-table-view-cell">
                      第一个选项卡子项-4
                    </li>
                    <li class="mui-table-view-cell">
                      第一个选项卡子项-5
                    </li>
                    <li class="mui-table-view-cell">
                      第一个选项卡子项-6
                    </li>
                    <li class="mui-table-view-cell">
                      第一个选项卡子项-7
                    </li>
                    <li class="mui-table-view-cell">
                      第一个选项卡子项-8
                    </li>
                    <li class="mui-table-view-cell">
                      第一个选项卡子项-9
                    </li>
                    <li class="mui-table-view-cell">
                      第一个选项卡子项-10
                    </li>
                    <li class="mui-table-view-cell">
                      第一个选项卡子项-11
                    </li>
                    <li class="mui-table-view-cell">
                      第一个选项卡子项-12
                    </li>
                    <li class="mui-table-view-cell">
                      第一个选项卡子项-13
                    </li>
                    <li class="mui-table-view-cell">
                      第一个选项卡子项-14
                    </li>
                    <li class="mui-table-view-cell">
                      第一个选项卡子项-15
                    </li>
                    <li class="mui-table-view-cell">
                      第一个选项卡子项-16
                    </li>
                    <li class="mui-table-view-cell">
                      第一个选项卡子项-17
                    </li>
                    <li class="mui-table-view-cell">
                      第一个选项卡子项-18
                    </li>
                    <li class="mui-table-view-cell">
                      第一个选项卡子项-19
                    </li>
                    <li class="mui-table-view-cell">
                      第一个选项卡子项-20
                    </li>
                  </ul>
                </div>
              </div>
            </div>
            <div id="item2mobile" class="mui-slider-item mui-control-content">
              <div id="scroll2" class="mui-scroll-wrapper">
                <div class="mui-scroll">
                  <div class="mui-loading">
                    <div class="mui-spinner">
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <script>
      mui.init({
        swipeBack: false
      });
      (function($) {
        $('.mui-scroll-wrapper').scroll({
          indicators: true //是否显示滚动条
        });
        var html2 = '<ul class="mui-table-view"><li class="mui-table-view-cell">第二个选项卡子项-1</li><li class="mui-table-view-cell">第二个选项卡子项-2</li><li class="mui-table-view-cell">第二个选项卡子项-3</li><li class="mui-table-view-cell">第二个选项卡子项-4</li><li class="mui-table-view-cell">第二个选项卡子项-5</li></ul>';
        var item2 = document.getElementById('item2mobile');
        document.getElementById('slider').addEventListener('slide', function(e) {
          if(e.detail.slideNumber === 1) {
            if(item2.querySelector('.mui-loading')) {
              setTimeout(function() {
                item2.querySelector('.mui-scroll').innerHTML = html2;
              }, 500);
            }
          }
        });
        var sliderSegmentedControl = document.getElementById('sliderSegmentedControl');
        $('.mui-input-group').on('change', 'input', function() {
          if(this.checked) {
            sliderSegmentedControl.className = 'mui-slider-indicator mui-segmented-control mui-segmented-control-inverted mui-segmented-control-' + this.value;
            //force repaint
            sliderProgressBar.setAttribute('style', sliderProgressBar.getAttribute('style'));
          }
        });
      })(mui);
    </script>
  </body>

</html>